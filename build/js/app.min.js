"use strict";function config(o,n,t,e){t.otherwise("/"),e.html5Mode(!1),o.state("todo",{abstract:!0,url:"/",template:"<ui-view />"}).state("todo.all",{url:"",component:"todo",resolve:{filter:function(){return"all"}}}).state("todo.finished",{url:"finished",component:"todo",resolve:{filter:function(){return"finished"}}}).state("todo.unfinished",{url:"unfinished",component:"todo",resolve:{filter:function(){return"unfinished"}}}).state("todo.front",{url:"front-end",component:"todo",resolve:{filter:function(){return"front"}}}).state("todo.back",{url:"back-end",component:"todo",resolve:{filter:function(){return"back"}}})}function todoContainerController(o,n,t){function e(o,n){if(!n)return o;var t={all:function(o){return!0},finished:function(o){return o.completed},unfinished:function(o){return!o.completed},back:function(o){return"back"===o.type},front:function(o){return"front"===o.type}};return o.filter(t[n])}var d=this,i=mobx.autorun(function(){var n=o.getAllTodos();d.todoList=e(n,d.filter)});d.$onDestroy=function(){i()},d.addTodo=function(n){o.addTodo(n.todo)},d.deleteTodo=function(n){o.deleteTodo(n.index)},d.toggleTodo=function(n){o.toggleTodo(n.index)}}function todoStore(){var o=this,n=mobx.observable([]);o.getAllTodos=function(){return n},o.addTodo=function(o){var t=Object.assign({},o,{index:n.length,completed:!1});n.push(t)},o.deleteTodo=function(o){n.splice(o,1)},o.toggleTodo=function(o){n[o].completed=!n[o].completed}}function todoFormController(o){function n(){e.newTodo={type:"front"}}var t=this,e=this;e.$onInit=function(){e.newTodo={type:"front"},n()},e.closeDialog=function(){o.hide(),n()},e.submitForm=function(){var o=t;o.onSubmit({$event:{todo:o.newTodo}}),o.closeDialog()}}function todoHeaderController(o){var n=this;n.showDialog=function(n){o.show({contentElement:"#todo-form",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0})},n.openMenu=function(o,n){o(n)}}function todoItemController(){var o=this;o.deleteTodo=function(){o.onDelete({$event:{index:o.index}})},o.toggleTodo=function(){o.onToggle({$event:{index:o.index}})}}function todoListController(){var o=this;o.deleteTodo=function(n){o.onDelete({$event:{index:n.index}})},o.toggleTodo=function(n){o.onToggle({$event:{index:n.index}})}}var app=angular.module("app",["ui.router","ngMaterial"]).service("todoStore",todoStore).config(config);app.component("todo",{controller:todoContainerController,template:'<section class="todoApp">\n    <todo-form id="todo-form-wrapper" on-submit="$ctrl.addTodo($event)"></todo-form>\n    <todo-header filter="$ctrl.filter"></todo-header>\n    <md-content flex ng-if="$ctrl.todoList.length > 0">\n      <todo-list\n        list="$ctrl.todoList"\n        on-delete="$ctrl.deleteTodo($event)"\n        on-toggle="$ctrl.toggleTodo($event)">\n      </todo-list>\n    </md-content>\n  </section>',bindings:{filter:"<"}}),app.component("todoForm",{controller:todoFormController,template:'<div class="md-dialog-container" name="todoForm" id="todo-form">\n    <md-dialog layout-padding>\n      <form ng-submit="$ctrl.submitForm()">\n        <h2 class="title">ADD TASK</h2>\n        <md-input-container>\n          <label>Task title</label>\n          <input required name="description" ng-model="$ctrl.newTodo.description">\n          <div ng-messages="todoForm.description.$error">\n            <div ng-message="required">This field is required.</div>\n          </div>\n          <md-radio-group ng-model="$ctrl.newTodo.type">\n            <md-radio-button value="front" class="radio md-primary">Front-end</md-radio-button>\n            <md-radio-button value="back">Back-end</md-radio-button>\n          </md-radio-group>\n        </md-input-container>\n        <md-dialog-actions>\n          <md-button ng-click="$ctrl.closeDialog()">Cancel</md-button><md-button class="md-primary md-raised" type="submit">Add</md-button>\n        </md-dialog-actions>\n      </form>\n    </md-dialog>\n  </div>',bindings:{onSubmit:"&"}}),app.component("todoHeader",{controller:todoHeaderController,template:'<md-toolbar>\n    <div class="md-toolbar-tools">\n      <h2 id="logo"><md-icon class="material-icons">done_all</md-icon>TODO <span ng-if="$ctrl.filter != \'all\'"> - {{ $ctrl.filter }} </span></h2>\n      <span flex></span>\n      <md-button aria-label="Add task" ng-click="$ctrl.showDialog()" class="md-raised">\n        Add task\n      </md-button>\n      <md-menu>\n        <md-button aria-label="Open categories menu" class="md-icon-button" ng-click="$ctrl.openMenu($mdOpenMenu, $event)">\n          <md-icon class="material-icons">menu</md-icon>\n        </md-button>\n        <md-menu-content width="4">\n          <md-menu-item>\n            <md-button ui-sref="todo.all">\n              <md-icon class="material-icons">device_hub</md-icon>\n              All\n            </md-button>\n          </md-menu-item>\n          <md-menu-item>\n            <md-button ui-sref="todo.finished">\n              <md-icon class="material-icons">done</md-icon>\n              Finished\n            </md-button>\n          </md-menu-item>\n          <md-menu-item>\n            <md-button ui-sref="todo.unfinished">\n              <md-icon class="material-icons">close</md-icon>\n              Unfinished\n            </md-button>\n          </md-menu-item>\n          <md-menu-item>\n            <md-button ui-sref="todo.front">\n              <md-icon class="material-icons">code</md-icon>\n              Front-end\n            </md-button>\n          </md-menu-item>\n          <md-menu-item>\n            <md-button ui-sref="todo.back">\n              <md-icon class="material-icons">keyboard</md-icon>\n              Back-end\n            </md-button>\n          </md-menu-item>\n        </md-menu-content>\n      </md-menu>\n    </div>\n  </md-toolbar>',bindings:{filter:"<"}}),app.component("todoItem",{controller:todoItemController,template:'<md-list-item>\n    <md-checkbox ng-checked="$ctrl.completed" ng-click="$ctrl.toggleTodo()"></md-checkbox>\n    <p>{{ $ctrl.description }}</p>\n    <i class="material-icons" md-colors="{color:\'warn\'}" ng-click="$ctrl.deleteTodo()" aria-label="Delete">delete_forever</i>\n    <md-divider inset></md-divider>\n  </md-list-item>',bindings:{index:"<",description:"<",completed:"<",onDelete:"&",onUpdate:"&",onToggle:"&"}}),app.component("todoList",{controller:todoListController,template:'<md-list ng-cloak id="todo-list">\n    <div ng-repeat="todo in $ctrl.list">\n      <todo-item\n        index="todo.index"\n        description="todo.description"\n        completed="todo.completed"\n        on-delete="$ctrl.deleteTodo($event)"\n        on-toggle="$ctrl.toggleTodo($event)">\n      </todo-item>\n    </div>\n  </md-list>',bindings:{list:"<",onDelete:"&",onUpdate:"&",onToggle:"&"}});